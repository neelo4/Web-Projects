import React from 'react';
import { Alert } from '@iag/chroma-react-ui.components';
import { type BrandDataProps, connectIagBrand } from '@iag-common/iag-brand-context';
import ShowPhoneNumber from '../ShowPhoneNumber';

const EditPaymentPlanHeaderAlert: React.FC<Props & BrandDataProps> = ({ tt, t, tExists }) => {
  if (tExists('pages.callUs.showNumberText')) {
    return (
      <Alert id="InfoAlert" data-testid="InfoAlert" variant="information">
        <p>
          <strong>{tt('constants.editPaymentInfo.title')}</strong>
        </p>
        <div>
          <ShowPhoneNumber
            maskedNumber={tt('pages.callUs.maskLinkLabel')}
            unmaskedNumber={tt('constants.phoneNumbers.generalEnquiries')}
            tt={tt}
            prefix={tt('constants.editPaymentInfo.descriptionPrefix')}
            suffix={tt('constants.editPaymentInfo.descriptionSuffix')}
          />
        </div>
      </Alert>
    );
  }

  // Original code remains unchanged
  return (
    <Alert id="InfoAlert" data-testid="InfoAlert" variant="information">
      <p>
        <strong>{tt('constants.editPaymentInfo.title')}</strong>
      </p>
      <p>{tt(getFullBrandStringNameByUserType('constants.editPaymentInfo.description'))}</p>
    </Alert>
  );
};

export default connectIagBrand()(EditPaymentPlanHeaderAlert);
