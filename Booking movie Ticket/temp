import { type BrandDataProps } from '@iag-common/iag-brand-context';
import { Button } from '@iag/chroma-react-ui.button';
import { ButtonGroup } from '@iag/chroma-react-ui.button-group';
import type React from 'react';
import { ShowPhoneNumber } from './ShowPhoneNumber';

const UnsupportedModalButton: React.FC<PropsWithChildren<Props> & BrandDataProps> = ({
  brand={getBrand()},
  tt,
  modalHeading,
  modalContent,
  showModal,
  closeHandler,
  hideBackButton
}) => {
  return (
    <div>
      <Modal
        brand={brand}
        className="pv-mfe-modal"
        describedby=""
        id="unsupported-modal"
        isOpen={showModal}
        labelledby={modalHeading}
        onClose={closeHandler}
      >
        <h3 className="h3" data-testid="unsupported-modal-heading">
          {modalHeading}
        </h3>
        <div data-testid="modal-content">{modalContent}</div>
        <ButtonGroup className="pv-flex pv-flex-col sm:pv-flex-row pv-w-full pv-gap-y-0 sm:pv-gap-x-4 pv-m-0">
          {!hideBackButton && (
            <Button variant="primaryOutline" onClick={closeHandler} className="pv-m-0">
              {tt('labels.back')}
            </Button>
          )}
          <div className="pv-m-0">
            <ShowPhoneNumber
              maskedNumber="Call 1300 .... Show number"
              unmaskedNumber="1300 332 048"
              tt={tt}
            />
          </div>
        </ButtonGroup>
      </Modal>
    </div>
  );
};

export default connectIagBrand()(UnsupportedModalButton);
